apiVersion: v1
kind: Secret
type: Opaque
metadata:
  name: aws-creds
  namespace: flux-system
stringData:
  creds: |-
    [default]
    aws_access_key_id = test
    aws_secret_access_key = test
---
apiVersion: aws.crossplane.io/v1beta1
kind: ProviderConfig
metadata:
  name: aws
spec:
  endpoint:
    hostnameImmutable: true
    url:
      type: Static
      static: "http://localstack-localstack.localstack:4566"
  credentials:
    source: Secret
    secretRef:
      namespace: controllers-system
      name: aws-creds
      key: creds
